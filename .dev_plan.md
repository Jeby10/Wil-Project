# Dev Journal

## Project Snapshot

- Name: Fur Fetch - Pet Adoption Portal
- Description: A full-stack pet adoption platform designed to help pets find loving homes. The platform features an intuitive, visually appealing frontend that showcases pets in an engaging way, combined with a robust backend for managing adoption applications and user authentication.
- Goal: Client-Server Application
  - Frontend: React.js with Chakra UI 3.24 and React Query 5.83
  - Backend: Express.js with MongoDB/Mongoose
- Phase: MVP Complete - Ready for Testing & Enhancements
- Last Updated: 2026-02-05

## Progress

Overall: 95%

| Area | Progress | Notes |
|------|----------|-------|
| Project setup | 100% | React + Vite client scaffolded, Express server scaffolded |
| Backend Auth System | 100% | User registration, login, JWT auth with refresh tokens |
| API Client Setup | 100% | Axios client with token management and interceptors |
| Backend Pet Model | 100% | âœ… Pet schema with all Week 2 fields + image URLs |
| Backend Application Model | 100% | âœ… Adoption Application schema with Week 3 fields |
| Backend User Model Updates | 100% | âœ… Role field + favoritePets |
| Pet Routes & Controllers | 100% | âœ… All CRUD operations with filters implemented |
| Application Routes | 100% | âœ… All routes including admin stats/management |
| Admin Middleware | 100% | âœ… isAdmin middleware protecting admin routes |
| Database Seeding | 100% | âœ… 18 pets, 4 users, 8 applications with images |
| Frontend AuthProvider | 100% | âœ… Complete with context, login/register/logout |
| Frontend Router Setup | 100% | âœ… All routes with protected route wrappers |
| Frontend Layout/Header/Footer | 100% | âœ… Responsive nav, auth buttons, sticky footer |
| Frontend Pet Listing | 100% | âœ… HomePage with filters, pet grid, React Query |
| Frontend Pet Cards | 100% | âœ… With images, hover effects, Week 2 design |
| Frontend Pet Detail | 100% | âœ… Image gallery, full info, apply button |
| **API Integration** | **100%** | âœ… **All endpoint paths verified and fixed** |
| **Frontend Application Form** | **100%** | âœ… **All Week 3 fields, validation, toasts, routing** |
| **My Applications Page** | **100%** | âœ… **Status badges, empty state, responsive grid** |
| **Admin Dashboard** | **100%** | âœ… **Stats, filters, inline editing, admin protection** |
| **Chakra UI Theme** | **100%** | âœ… **Custom theme.js with Week 2 color palette** |

## Current Codebase Analysis

### Backend Structure
**Technology Stack:**
- Express.js with CommonJS modules
- MongoDB with Mongoose ODM
- JWT authentication with access/refresh tokens
- bcryptjs for password hashing
- Joi for validation
- Security: helmet, cors, rate limiting

**Existing Models:**
1. **User Model** ([server/models/user.js](server/models/user.js)):
   - Fields: username, email, password, favoriteLinks, isActive
   - Features: Password hashing, session management

2. **Link Model** ([server/models/link.js](server/models/link.js)):
   - Fields: shortCode, title, content, language, owner, isPublic, expiresAt, clicks
   - Note: This is from the original pastebin project, needs to be replaced/repurposed

**Existing Routes:**
- `/api/auth/*` - Registration, login, logout, refresh, profile
- `/api/links/*` - Link CRUD operations (to be replaced with pets)
- `/api/user/*` - User management
- `/paste/*` - Public link access (to be replaced)

### Frontend Structure
**Technology Stack:**
- React 19.1 with ES6 modules
- Vite build tool
- Chakra UI 3.24 for components
- React Query 5.83 for data fetching
- React Router 7.7 for navigation
- Axios for API calls

**Existing Setup:**
- API client with automatic token management ([client/src/api/client.js](client/src/api/client.js))
- Auth API functions ready ([client/src/api/auth.js](client/src/api/auth.js))
- Chakra UI Provider configured
- React Query setup with devtools
- **MISSING**: AuthProvider component referenced in [main.jsx](client/src/main.jsx:6)
- **EMPTY**: [App.jsx](client/src/App.jsx) needs complete implementation

### Week 2 UI Inspiration Analysis
**Design Elements:**
- Soft pastel color scheme (pink #ffd6e8, green #d9fdd3)
- Gradient backgrounds: `linear-gradient(135deg, #fff1f5, #f0fff4)`
- Rounded corners (border-radius: 25px)
- Card-based layout with hover effects
- Responsive grid: `grid-template-columns: repeat(auto-fill, minmax(280px, 1fr))`

**Pet Card Features:**
- Pet emoji as image placeholder (fontSize: 4em)
- Urgent badge for priority adoptions
- Pet details: name, breed, age, size, location
- "Learn More & Adopt" CTA button
- Shadow effects: `box-shadow: 0 10px 30px rgba(255, 182, 193, 0.25)`
- Hover effect: `transform: translateY(-10px) scale(1.02)`

**Filter Components:**
- Breed dropdown (Labrador, Golden Retriever, Beagle, Tabby Cat, Siamese, Persian, Mixed)
- Age dropdown (Puppy/Kitten 0-1yr, Young 1-3yr, Adult 3-7yr, Senior 7+yr)
- Size dropdown (Small 0-25lbs, Medium 25-50lbs, Large 50+lbs)
- Location text input (city or zip)
- Apply/Reset buttons with pastel colors

### Week 3 Schema Requirements
**Adoption Application Fields:**
```javascript
{
  id: Number,
  applicantName: String (required, min 2 chars),
  email: String (required, valid email),
  phone: String (required, min 10 chars),
  petName: String (required, min 2 chars),
  petType: String (required, enum: Dog/Cat/Other),
  address: String (required, min 5 chars),
  experience: String (optional),
  reason: String (required, min 10 chars),
  status: String (enum: pending/approved/rejected),
  notes: String (admin notes),
  submittedDate: Date (ISO string),
  lastUpdated: Date (ISO string)
}
```

**Application Management Features:**
- Create, read, update, delete applications
- Filter by status (all/pending/approved/rejected)
- Search by applicant name, pet name, or email
- Statistics dashboard (total, pending, approved, rejected)
- Validation with detailed error messages
- localStorage persistence (to be replaced with MongoDB)

## Changelog

- 2026-02-05: **Teal Color Scheme & AuthProvider Fix**
  - Changed entire app from pink to teal color scheme for consistency
  - Updated Layout.jsx header (teal.500) and footer (teal.50)
  - Updated all pages: HomePage, PetDetailPage, LoginPage, RegisterPage, ApplicationFormPage, MyApplicationsPage, AdminDashboard, PetCard
  - User changed AuthProvider isAdmin from function to memoized value (useMemo)
  - Verified no isAdmin() function calls remain in codebase
- 2026-02-05: **UI Polish & Theme System** - Enhanced PetDetailPage and documented custom theme
  - Redesigned PetDetailPage with single-column layout
  - Pet profile centered at top with image gallery
  - Two-column specifications table for pet details
  - About section for distinct features/likes/activities
  - Prominent CTA button at bottom with hover animation
  - Documented custom Chakra UI theme in [client/src/theme.js](client/src/theme.js)
  - Brand colors: Pink (#ff6f91) and Green (#98e6b5) palettes
- 2026-02-05: **Auth Bug Fixes** - Fixed login form and token storage issues
  - Changed LoginPage from username to email field (backend requires email)
  - Fixed duplicate token storage in AuthProvider (authAPI already handles it)
- 2026-02-05: **Phase 5 & 6 VERIFIED COMPLETE** - Discovered ApplicationFormPage, MyApplicationsPage, and AdminDashboard already fully implemented
  - All Week 3 schema fields present in application form
  - React Query mutations with proper error handling
  - Toast notifications for success/error states
  - Protected routes with authentication
  - Admin dashboard with statistics, filters, and inline editing
  - Status badge color coding (green/yellow/red)
  - Empty states and loading states
  - Week 2 design patterns throughout
  - All 3 pages ready for end-to-end testing
- 2026-02-05: **CRITICAL: API Integration Fixed** - Resolved 3 critical issues preventing frontend-backend communication
  - Added missing `/api` prefix to all pet endpoints in [client/src/api/pet.js](client/src/api/pet.js)
  - Added missing `/api` prefix to all application endpoints in [client/src/api/application.js](client/src/api/application.js)
  - Fixed route ordering in [server/routes/application.js](server/routes/application.js) - moved admin routes before `:id` route
  - All API endpoints now correctly match between frontend and backend
- 2026-02-05: **Phase 4 Pet Features 100% Complete** - HomePage, PetCard, PetDetailPage with images
- 2026-02-05: Enhanced PetCard and PetDetailPage with real image display and gallery
- 2026-02-05: **Phase 3 Frontend Core 100% Complete** - AuthProvider, Router, Layout all verified
- 2026-02-05: **Backend 100% Complete** - All Phase 1 & Phase 2 tasks finished
- 2026-02-05: Updated .dev_plan.md to sync with actual backend implementation status
- 2026-02-05: Added 2-3 image URLs per pet using Dog CEO API and CATAAS API
- 2026-02-05: Database seed script created with 18 pets, 4 users, and 8 sample applications
- 2026-02-05: Backend cleanup completed - Removed unused Link model and routes from pastebin legacy code
- 2026-02-04: Initial project analysis completed
- 2026-02-04: Identified transformation needed from pastebin to pet adoption portal
- 2026-02-04: Documented Week 2 UI patterns and Week 3 schema requirements
- 2026-02-04: Created comprehensive development plan

## Priority Queue / To-Do

### Phase 1: Backend Data Models âœ… COMPLETED
- [x] Create Pet Model COMPLETED
  - âœ… All fields implemented: name, breed, age, ageInMonths, size, location, petType
  - âœ… Additional fields: description, emoji, imageUrl, urgent, healthStatus
  - âœ… Status fields: isAvailable, isActive
  - âœ… Timestamps: createdAt, updatedAt (Mongoose)
  - âœ… Owner reference to User model
  - ğŸ“„ [server/models/pet.js](server/models/pet.js)

- [x] Create Adoption Application Model COMPLETED
  - âœ… All Week 3 schema fields implemented
  - âœ… References: petId (Pet model), applicantId (User model)
  - âœ… Status enum: pending, approved, rejected
  - âœ… Admin notes field with validation
  - âœ… Timestamps and lastUpdated tracking
  - ğŸ“„ [server/models/application.js](server/models/application.js)

- [x] Update User Model COMPLETED
  - âœ… role field added (enum: user/admin)
  - âœ… favoritePets field (replaces favoriteLinks)
  - ğŸ“„ [server/models/user.js](server/models/user.js)

### Phase 2: Backend Routes & Controllers âœ… COMPLETED
- [x] Create Pet Routes COMPLETED
  - âœ… GET `/api/pets` - List all available pets (public, with filters: petType, size, breed, age, location, urgent)
  - âœ… GET `/api/pets/:id` - Get single pet details (public)
  - âœ… POST `/api/pets` - Create new pet (authenticated, admin only)
  - âœ… PUT `/api/pets/:id` - Update pet (authenticated, admin only)
  - âœ… DELETE `/api/pets/:id` - Soft delete pet (authenticated, admin only)
  - ğŸ“„ [server/routes/pet.js](server/routes/pet.js)

- [x] Create Application Routes COMPLETED
  - âœ… POST `/api/applications` - Submit application (authenticated)
  - âœ… GET `/api/applications` - List user's applications (authenticated)
  - âœ… GET `/api/applications/:id` - Get single application (authenticated, owner or admin)
  - âœ… GET `/api/applications/admin/all` - Admin view all applications with status filter (admin only)
  - âœ… GET `/api/applications/admin/stats` - Get statistics (total, pending, approved, rejected) (admin only)
  - âœ… PUT `/api/applications/:id` - Update application status and notes (admin only)
  - âœ… DELETE `/api/applications/:id` - Delete application (admin only)
  - ğŸ“„ [server/routes/application.js](server/routes/application.js)

- [x] Add Admin Middleware COMPLETED
  - âœ… isAdmin middleware checks user role
  - âœ… All admin routes protected
  - ğŸ“„ [server/middleware/auth.js](server/middleware/auth.js:35)

- [x] Seed Database with Sample Pets COMPLETED
  - âœ… Created seed script with 18 diverse pets
  - âœ… Added admin and 3 regular users
  - âœ… Included 8 sample applications
  - âœ… Added 2-3 image URLs per pet (Dog CEO API + CATAAS API)
  - ğŸ“„ [server/seed.js](server/seed.js)

### Phase 3: Frontend Core Components âœ… COMPLETED
- [x] Create AuthProvider Component COMPLETED
  - âœ… Context for user state management
  - âœ… Login, logout, register functions with error handling
  - âœ… Auto-fetch user profile on mount
  - âœ… Loading state management
  - âœ… isAdmin() helper function
  - âœ… Token management integration
  - ğŸ“„ [client/src/components/AuthProvider.jsx](client/src/components/AuthProvider.jsx)

- [x] Create App.jsx Router Setup COMPLETED
  - âœ… All routes: /, /login, /register, /pets/:id, /apply/:petId, /my-applications, /admin
  - âœ… ProtectedRoute wrapper component
  - âœ… Admin-only route protection
  - âœ… Loading state during auth check
  - âœ… 404 redirect handler
  - ğŸ“„ [client/src/App.jsx](client/src/App.jsx)

- [x] Create Layout Components COMPLETED
  - âœ… Header with responsive navigation
  - âœ… Auth buttons (Login/Register for guests, Logout for users)
  - âœ… Admin dashboard link (visible to admin only)
  - âœ… User welcome message
  - âœ… Footer with branding
  - âœ… Flex layout (sticky footer)
  - ğŸ“„ [client/src/components/Layout.jsx](client/src/components/Layout.jsx)

- [x] Main.jsx Setup COMPLETED
  - âœ… Chakra UI Provider configured
  - âœ… React Query setup with QueryClient
  - âœ… AuthProvider wrapped
  - âœ… BrowserRouter configured
  - âœ… React Query Devtools (development only)
  - ğŸ“„ [client/src/main.jsx](client/src/main.jsx)

### Phase 4: Frontend Pet Features âœ… COMPLETED

**API Integration Verification & Fixes (2026-02-05)**
During pre-deployment verification, discovered and fixed 3 critical API integration issues:

1. **Missing `/api` Prefix in Pet API** ([client/src/api/pet.js](client/src/api/pet.js))
   - **Issue**: Frontend was calling `/pets` but backend expected `/api/pets`
   - **Impact**: All pet API calls would return 404 Not Found
   - **Fix**: Added `/api` prefix to all pet endpoints (lines 16, 24, 30, 36, 42)

2. **Missing `/api` Prefix in Application API** ([client/src/api/application.js](client/src/api/application.js))
   - **Issue**: Frontend was calling `/applications` but backend expected `/api/applications`
   - **Impact**: All application API calls would return 404 Not Found
   - **Fix**: Added `/api` prefix to all application endpoints (lines 6, 12, 18, 25-26, 33, 39, 45)

3. **Route Ordering Problem** ([server/routes/application.js](server/routes/application.js))
   - **Issue**: Generic `/:id` route was defined BEFORE specific `/admin/all` and `/admin/stats` routes
   - **Impact**: Requests to `/api/applications/admin/all` would match `/:id` route with id='admin'
   - **Fix**: Moved admin routes (lines 91-157) BEFORE the `/:id` route (line 159)
   - **Result**: Express now correctly routes admin endpoints

**Verification Summary**:
- âœ… Auth API: All endpoints correctly use `/api/auth/*` (working)
- âœ… Pet API: All endpoints now use `/api/pets/*` (fixed)
- âœ… Application API: All endpoints now use `/api/applications/*` (fixed)
- âœ… Route ordering: Admin routes now accessible (fixed)

### Phase 4: Frontend Pet Features âœ… COMPLETED
- [x] Create Pet Listing Page (Home) COMPLETED
  - âœ… Pet grid with cards (Week 2 inspired design with rounded corners, shadows)
  - âœ… Comprehensive filter section (petType, breed, age, size, location, urgent)
  - âœ… Clear filters button
  - âœ… Empty state with clear filters option
  - âœ… Loading state with spinner
  - âœ… Error state with error message
  - âœ… Results count display
  - âœ… React Query integration for data fetching
  - ğŸ“„ [client/src/pages/HomePage.jsx](client/src/pages/HomePage.jsx)

- [x] Create Pet Card Component COMPLETED
  - âœ… Real pet images from imageUrl array (fallback to emoji)
  - âœ… Urgent badge overlay on image
  - âœ… Pet details: breed, age, size, location
  - âœ… Description preview (truncated to 2 lines)
  - âœ… "Learn More" button with routing
  - âœ… Hover animations: translateY(-10px) scale(1.02) from Week 2
  - âœ… Rounded corners (25px) and shadow effects
  - ğŸ“„ [client/src/components/PetCard.jsx](client/src/components/PetCard.jsx)

- [x] Create Pet Detail Page COMPLETED
  - âœ… Full pet information display with all fields
  - âœ… Image gallery with thumbnail navigation (2-3 images per pet)
  - âœ… Main image display with selected state
  - âœ… Clickable thumbnails to change main image
  - âœ… "Apply to Adopt" button with auth redirect
  - âœ… Availability and urgent badges
  - âœ… Health status display
  - âœ… Full description
  - âœ… Back button navigation
  - âœ… Loading and error states
  - ğŸ“„ [client/src/pages/PetDetailPage.jsx](client/src/pages/PetDetailPage.jsx)

### Phase 5: Frontend Application Features âœ… COMPLETED
- [x] Create Application Form Page COMPLETED
  - âœ… All fields from Week 3 schema (applicantName, email, phone, address, experience, reason)
  - âœ… Form validation (HTML5 required + custom pet validation)
  - âœ… Pet information display at top (emoji, name, description)
  - âœ… Success/error handling with Chakra UI toast
  - âœ… Redirect to /my-applications on success
  - âœ… React Query mutation with loading state
  - âœ… Protected route at /apply/:petId
  - âœ… Back button to pet detail page
  - âœ… Graceful pet not found handling
  - ğŸ“„ [client/src/pages/ApplicationFormPage.jsx](client/src/pages/ApplicationFormPage.jsx)

- [x] Create My Applications Page COMPLETED
  - âœ… List user's submitted applications with React Query
  - âœ… Status badges (green=approved, yellow=pending, red=rejected)
  - âœ… ApplicationCard component with pet details
  - âœ… Submission date formatting
  - âœ… Admin notes display (if present)
  - âœ… Clickable cards navigate to pet detail
  - âœ… Empty state with helpful message
  - âœ… Total applications count
  - âœ… Responsive grid (1 col mobile, 2 cols desktop)
  - âœ… Loading and error states
  - âœ… Protected route at /my-applications
  - ğŸ“„ [client/src/pages/MyApplicationsPage.jsx](client/src/pages/MyApplicationsPage.jsx)

### Phase 6: Admin Dashboard âœ… COMPLETED
- [x] Create Application Management Dashboard COMPLETED
  - âœ… Statistics cards (total, pending, approved, rejected counts)
  - âœ… Filter by status dropdown (all/pending/approved/rejected)
  - âœ… React Query for stats and applications
  - âœ… Inline editing within ApplicationCard:
    - Status dropdown select
    - Admin notes textarea
    - Save/Cancel buttons
    - Mutation with query invalidation
  - âœ… ApplicationCard shows:
    - Pet details (emoji, name, type, breed, location)
    - Applicant info (username, email, phone, address)
    - Submission date
    - Adoption reason and experience
  - âœ… Empty state based on filter
  - âœ… Admin-only route protection at /admin
  - âœ… Toast notifications for success/error
  - âœ… Loading states throughout
  - âœ… Week 2 design patterns (rounded cards, shadows)
  - ğŸ“„ [client/src/pages/AdminDashboard.jsx](client/src/pages/AdminDashboard.jsx)

**Note**: Pet Management features (add/edit/delete pets) are not implemented. Admin can only manage applications, not pets. This is acceptable for MVP.

### Phase 7: Polish & Features (LOW PRIORITY)
- [ ] Add User Profile Page LOW
  - View/edit user profile
  - List favorite pets
  - Change password

- [ ] Add Favorites Feature LOW
  - "Add to Favorites" button on pet cards
  - My Favorites page
  - Update User.favoriteLinks to favoritePets

- [ ] Add Search Functionality MEDIUM
  - Global pet search
  - Search by name, breed, location

- [ ] Add Pagination MEDIUM
  - Backend pagination for pets and applications
  - Frontend pagination components

- [ ] Add Image Upload LOW
  - Pet image upload functionality
  - Multiple images per pet
  - Image optimization

### Phase 8: Styling & UX (MEDIUM PRIORITY)
- [x] Apply Week 2 Color Scheme COMPLETED
  - âœ… Custom theme.js with Chakra UI createSystem
  - âœ… Brand pink palette: #fff5f9 â†’ #991935 (50-900)
  - âœ… Brand green palette: #f7fef6 â†’ #1aa61f (50-900)
  - âœ… Semantic tokens: primary, secondary, bg.primary, bg.card
  - ğŸ“„ [client/src/theme.js](client/src/theme.js)

- [ ] Responsive Design MEDIUM
  - Mobile-first approach
  - Tablet breakpoints
  - Desktop optimization

- [ ] Loading States & Animations LOW
  - Skeleton loaders
  - Smooth transitions
  - Hover effects from Week 2

### Future Enhancements (Optional)
- [ ] Email Notifications LOW
  - Application submission confirmation
  - Application status updates
  - New pet alerts

- [ ] Advanced Filters LOW
  - Multiple breed selection
  - Age range slider
  - Distance-based location filter

- [ ] Pet Sharing LOW
  - Share pet on social media
  - Generate shareable links

- [ ] Application Messages LOW
  - Chat between applicant and admin
  - Application updates and questions

## Data Models Design

### Pet Schema (MongoDB/Mongoose)
```javascript
{
  name: String (required, trim),
  breed: String (required, trim),
  age: String (enum: ['Puppy/Kitten', 'Young', 'Adult', 'Senior']),
  ageInMonths: Number,
  size: String (enum: ['Small', 'Medium', 'Large']),
  petType: String (enum: ['Dog', 'Cat', 'Other'], required),
  location: String (required),
  description: String (maxlength: 1000),
  emoji: String (default: 'ğŸ¾'),
  imageUrl: [String],
  urgent: Boolean (default: false),
  healthStatus: String,
  isAvailable: Boolean (default: true),
  isActive: Boolean (default: true),
  owner: ObjectId (ref: 'User'),
  createdAt: Date,
  updatedAt: Date
}
```

### Adoption Application Schema
```javascript
{
  applicantName: String (required, min: 2, max: 100),
  email: String (required, email validation),
  phone: String (required, min: 10),
  petId: ObjectId (ref: 'Pet', required),
  petName: String (required),
  petType: String (required, enum: ['Dog', 'Cat', 'Other']),
  address: String (required, min: 5, max: 200),
  experience: String (maxlength: 500),
  reason: String (required, min: 10, max: 500),
  status: String (enum: ['pending', 'approved', 'rejected'], default: 'pending'),
  notes: String (admin notes, maxlength: 1000),
  applicantId: ObjectId (ref: 'User', required),
  submittedDate: Date (default: Date.now),
  lastUpdated: Date (default: Date.now),
  createdAt: Date,
  updatedAt: Date
}
```

### Updated User Schema
```javascript
{
  username: String (existing),
  email: String (existing),
  password: String (existing),
  role: String (enum: ['user', 'admin'], default: 'user') // NEW,
  favoritePets: [ObjectId] (ref: 'Pet') // UPDATED from favoriteLinks,
  isActive: Boolean (existing),
  createdAt: Date,
  updatedAt: Date
}
```

## Component Architecture

### Frontend Component Tree
```
App (Router)
â”œâ”€â”€ Layout
â”‚   â”œâ”€â”€ Header (Navigation, Auth Status)
â”‚   â””â”€â”€ Footer
â”œâ”€â”€ Public Routes
â”‚   â”œâ”€â”€ Home (Pet Listing)
â”‚   â”‚   â”œâ”€â”€ FilterSection (Breed, Age, Size, Location)
â”‚   â”‚   â””â”€â”€ PetGrid
â”‚   â”‚       â””â”€â”€ PetCard (x N)
â”‚   â”œâ”€â”€ PetDetail
â”‚   â”‚   â”œâ”€â”€ PetInfo
â”‚   â”‚   â”œâ”€â”€ ImageGallery
â”‚   â”‚   â””â”€â”€ ApplyButton
â”‚   â”œâ”€â”€ Login
â”‚   â””â”€â”€ Register
â”œâ”€â”€ Protected Routes (Authenticated)
â”‚   â”œâ”€â”€ ApplicationForm
â”‚   â”‚   â”œâ”€â”€ ApplicantInfo
â”‚   â”‚   â”œâ”€â”€ PetInfo (read-only)
â”‚   â”‚   â””â”€â”€ AdoptionQuestions
â”‚   â””â”€â”€ MyApplications
â”‚       â””â”€â”€ ApplicationCard (x N)
â””â”€â”€ Admin Routes
    â”œâ”€â”€ AdminLayout
    â”‚   â””â”€â”€ AdminNav
    â”œâ”€â”€ PetManagement
    â”‚   â”œâ”€â”€ PetList
    â”‚   â”œâ”€â”€ PetForm (Add/Edit)
    â”‚   â””â”€â”€ PetCard (with Edit/Delete)
    â””â”€â”€ ApplicationManagement
        â”œâ”€â”€ StatsCards
        â”œâ”€â”€ FilterBar
        â””â”€â”€ ApplicationList
            â””â”€â”€ ApplicationCard (with Edit Modal)
```

## API Endpoints Design

### Pet Endpoints
```
GET    /api/pets              - List all available pets (public, with query filters)
GET    /api/pets/:id          - Get single pet details (public)
POST   /api/pets              - Create new pet (admin only)
PUT    /api/pets/:id          - Update pet (admin only)
DELETE /api/pets/:id          - Soft delete pet (admin only)
```

### Application Endpoints
```
POST   /api/applications           - Submit new application (authenticated)
GET    /api/applications           - Get user's applications (authenticated)
GET    /api/applications/all       - Get all applications (admin only)
GET    /api/applications/stats     - Get statistics (admin only)
PUT    /api/applications/:id       - Update application status (admin only)
DELETE /api/applications/:id       - Delete application (admin only)
GET    /api/applications/:id       - Get single application (owner or admin)
```

### User Endpoints (Existing + Updates)
```
GET    /api/user/favorites         - Get user's favorite pets (authenticated)
POST   /api/user/favorites/:petId  - Add pet to favorites (authenticated)
DELETE /api/user/favorites/:petId  - Remove from favorites (authenticated)
```

## Test Policy
- Unit tests not required for MVP
- Manual testing for all features
- Test user authentication flow
- Test application submission flow
- Test admin operations

## Active Work Slots

| Owner | Area | Task | Status |
|-------|------|------|--------|
|       |      |      |        |

## Notes
- Follow ES6 arrow functions on frontend, no semicolons, no var
- Follow CommonJS on backend
- Update KNOWLEDGE.md after any code changes
- Use Chakra UI components exclusively on frontend
- Follow Week 2 color scheme and design patterns
- Implement Week 3 application schema exactly as specified
- All dates in ISO format
- Use Mongoose timestamps feature
- Implement soft deletes (isActive flag) not hard deletes
